{% extends 'base.html' %}{% block nav %}
<form id="formdata" class="form-content urlform" action="">
    <div class="form-group">
        <label for="longurl"></label> {% raw xsrf_form_html() %}
        <textarea class="form-control" name="longurl" type="url" id="longurl" rows="6" placeholder="Shorten your long link here!" spellcheck="false"></textarea>
        <br>
        <div class="expireTime">
            <div class="form-check form-check-inline">
                <label for="inlineRadio-oneday">1 day</label>
                <input name="expireTime" id="inlineRadio-oneday" type="radio" value="1">
            </div>
            <div class="form-check form-check-inline">
                <label for="inlineRadio-oneweek">1 week</label>
                <input name="expireTime" id="inlineRadio-oneweek" type="radio" value="2">
            </div>
            <div class="form-check form-check-inline">
                <label for="inlineRadio-ultimated">Unlimited</label>
                <input name="expireTime" id="inlineRadio-ultimated" type="radio" value="3">
            </div>
            <div class="button">
                <button type="button" id="btn-short" class="btnS">Shorten</button>
                <button type="reset" id="btn-reset">Clear</button>
            </div>
        </div>
        <div id="valid_url"></div>
    </div>
</form>
<script>
    //jquery to create click event and ajax submit the request
    $(function name(params) {
        $('#btn-short').click(function name(params) {
            var formdata = $('#formdata').serializeArray();
            // console.log(formdata);
            $.ajax({
                url: '/',
                type: 'POST',
                dataType: 'json',
                data: formdata,
                success: function(result) {
                    console.log(result);
                }
            })
        });
    });
</script>
{% end %} {% block foot %} {% end %}